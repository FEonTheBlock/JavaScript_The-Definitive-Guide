# 12장 이터레이터와 제너레이터


제너레이터의 일차적 설계목적: 이터레이터를 쉽게 생성하는 것


# 12.1 이터레이터의 동작 방법

- 순회를 이해하려면 알아야 할 세가지
    1. 이터러블 객체
        - 배열, 세트, 맵 등 순회할 수 있는 타입의 객체
        - 이터레이터 객체를 반환하는 이터레이터 메서드를 가진다.
    2. 이터레이터 객체
        - 순회를 수행한다
        - 순회결과 객체를 반환하는 `next()` 메서드를 가진다.
    3. 순회 결과 객체
        - `value`와 `done` 프로퍼티를 갖는다.
    - 순회 process
        - 이터레이터 메서드 호출 → 이터레이터 객체 GET!
        - 이터레이터 객체의 `next()` 메서드 반복호출 → 반환하는 순회결과 객체의 `done` 프로퍼티가 true일 때까지
    - 이터러블 데이터 타입의 이터레이터 객체는 그 자체가 이터러블로, 자기 자신을 반환하는 이터레이터 메서드를 갖는다.


# 12.2 이터러블 객체 만들기

- 클래스를 이터러블로 만드려면
    - 이름이 `Symbol.iterator`인 메서드가 있어야
    - `Symbol.iterator` 메서드는 `next()` 메서드가 있는 이터레이터 객체 반환
    - `next()` 메서드는 순회결과 객체를 반환해야
    - 순회결과 객체는 `value` 프로퍼티와 `done` 프로퍼티 중 하나를 가져야
- 이터러블 값 반환 함수를 정의하면 매우 유용
- 이터러블 객체와 이터레이터의 특징: **lazy!**
    - 값이 필요할 때까지 계산을 늦춘다.
- 이터레이터 종료: `return()`
    - 끝까지 실행되지 않더라도 마지막에 할 작업(파일 닫기, 메모리 반환 등)을 정의
    - 반드시 순회결과 객체를 반환


# 12.3 제너레이터

- 순회할 값이 데이터 구조의 요소가 아니라 계산결과일 때 유용
    - 계산을 통해 전달할 값을 실제로 `생성`할 때!
- 제너레이터를 만드려면 먼저 제너레이터 함수를 정의해야 함
    - `function` 대신 `function*` 키워드 사용하여 함수 정의
    - 제너레이터 함수를 호출하면 함수몸체 실행이 아니라 제너레이터 객체 반환
    - 제너레이터 객체 (==  이터레이터):`next()`를 호출하면 제너레이터 함수 몸체의 처음 or 현재 위치에서 코드를 실행하다가 `yield` 문에서 정지하고, `yield`문 값을 반환
    - 표현식 형태로도 정의 가능
    - 클래스나 객체 리터럴에서는 메서드 앞에 `*`를 붙여 제너레이터로 정의
    - 화살표 함수 문법으로 정의 불가
- 무한한 제너레이터를 과도한 메모리 소진 없이 필요한만큼만 호출 가능
- `yield*` 키워드로 이터러블 객체를 순회하며 각각의 값을 전달
    - 재귀 제너레이터를 만들 수 있고, 재귀적으로 정의된 트리구조를 비재귀적으로 순회 가능