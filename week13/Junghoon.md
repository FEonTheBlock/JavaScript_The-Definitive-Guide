# 워커 스레드

노드의 동시성 모델은 싱글 스레드이며 이벤트 기반이다.
노드는 웹 워커를 그대로 반영한 프로그래밍 모델 열시 지원한다. 멀티스레드 프로그래밍은 여러 스레드가 공유 메모리에 접근하는 것을 주의 깊게 조율해야 한다.
하지만 자바스크립트 스레드는 노드나 브라우저 모두 기본적으로 메모리를 공유하지 않으므로, 이 어려움은 자바스크립트 워커에는 적용되지 않는다.

자바스크립트 워커 스레드는 메모리를 공유하지 않고 메시지를 전달하는 방식으로 통신한다. 메인 스레드는 스레드를 나타내는 워커 객체의 메서드를 호출해 워커 스레드에 메시지를 보낸다. 워커 스레드는 메시지를 수신하여 메인 스레드에 메시지를 전송한다.

노드 애플리케이션에서 워커 스레드를 사용하는 이유는 크게 세 가지다.

- 애플리케이션에서 CPU 코어 하나로 감당하기 어려운 계산을 해야한다면 스레드를 통해 부하를 코어 여러 개로 분산할 수 있다.
- 애플리케이션에서 CPU 하나의 최대 성능을 필요로 하지 않더라도, 스레드를 사용하면 메인 스레드의 반응성을 더 높일 수 있다.
- 워커를 사용하면 차단적이고 동기적인 동작이 비차단적이고 비동기적인 작업으로 바뀐다.

워커 스레드는 자식 프로세스만큼 부하가 크지는 않지만 그래도 가벼운 작업은 아니다. 워커에 맡길 일이 무거운 작업이 아니라면 굳이 워커를 사용할 필요는 없다. 일반적으로, 프로그램이 CPU 집약적인 작업을 처리하지 않고 반응성 문제도 없다면 워커 스레드를 사용할 필요는 거의 없다.
