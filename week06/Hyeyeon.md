# 자바스크립트 완벽 가이드 6주차 학습 - 혜연

## 13장 비동기 자바스크립트

### 13.3 async와 await

- async, await가 ES2017에 도입됨.
- async, await는 프라미스 사용을 단순화하고 프라미스 기반의 비동기 코드를 동기적 코드처럼 작성할 수 있게 함.
- async와 await는 효율적인 프라미스 기반 코드(이행된 프라미스의 값은 동기적 함수의 반환 값과 같고, 거부된 프라미스의 값은 동기적 함수에서 일으킨 에러와 같은)에서 프라미스를 숨겨 읽기 쉽고 이해하기 쉬운 동기적 코드와 비슷하게 만듦.

#### 13.3.1 await 표현식

- await 키워드는 프라미스를 받아 반환값이나 예외로 바꿈.
- await는 보통 프라미스를 할당한 변수와 함께 사용되기보다는 프라미스를 반환하는 함수와 함께 사용됨.

#### 13.3.2 async 함수

- await 키워드는 async 키워드로 선언된 함수 안에서만 사용할 수 있음.
  -> ES2022에서 수정

#### 13.3.3 여러 개의 프라미스 대기

- async 함수는 프라미스에 기반하므로 Promise.all() 등을 사용하여 여러 개의 비동기 작업을 처리할 수 있음.

#### 13.3.4 세부 사항

- await 키워드를 함수 바디를 동기적 덩어리로 구분하는 일종의 표식으로 생각할 수 있음.

### 13.4 비동기 순회

- ES2018에 도입된 비동기 이터레이터는 프라미스 기반으로 만들어졌고, for/await와 함께 사용하도록 설계됨.

#### 13.4.1 for/await 루프

- for/await 루프는 프라미스 기반으로, 루프에 await 호출을 결합하고 코드를 더 간결하게 만든 것.
- 비동기 이터레이터는 프라미스를 생성하고, for/await 루프는 프라미스가 이행되기를 기다렸다가 이행된 값을 루프 변수에 할당하고 루프 바디를 실행한 뒤 이터레이터에서 다른 프라미스를 받아 새 프라미스가 이행되기를 기다렸다가 다시 시작함.

#### 13.4.2 비동기 이터레이터

- 비동기 이터레이터는 일반적인 이터레이터와 거의 비슷하지만 심벌 이름 Symbol.asyncIterator를 가진 메서드가 있고, next() 메서드는 순회 결과 객체로 해석되는 프라미스를 반환함.

#### 13.4.3 비동기 제너레이터

- 비동기 제너레이터는 비동기 함수처럼 그 안에서 await를 사용할 수 있고, 일반적인 제너레이터처럼 yield를 사용할 수 있음.
- async function\*의 표기를 사용함.

#### 13.4.4 비동기 이터레이터 구현

- 객체의 Symbol.asyncIterator() 메서드가 반환하는 객체의 next() 메서드가 순회 결과 객체로 해석되는 프라미스를 반환하도록 하면 비동기 이터레이터를 직접 만들 수 있음.
- 비동기 이벤트나 데이터 스트림을 나타낼 수 있다는 것이 비동기 이터레이터의 장점임.

## 14장 메타프로그래밍

- 메타프로그래밍은 다른 코드를 조작하는 코드를 작성하는 것

### 14.1 프로퍼티 속성

- 자바스크립트 객체의 각 프로퍼티에는 writable(쓰기 가능), enumerable(열거 가능), configurable(변경 가능) 속성이 있음.
- 객체가 확장 불가이면 기존의 자체 프로퍼티를 수정할 수는 있지만 새로운 프로퍼티를 추가할 수는 없음.
- 프로퍼티가 변경 불가이면 변경 가능 속성이나 열거 가능 속성을 바꿀 수 없음.
- 접근자 프로퍼티가 변경 불가이면 게터나 세터 메서드를 바꿀 수 없고, 데이터 프로퍼티로 바꿀 수도 없음.
- 데이터 프로퍼티가 변경 불가이면 접근자 프로퍼티로 바꿀 수 없음.
- 데이터 프로퍼티가 변경 불가이면 쓰기 가능 속성을 false에서 true로 바꾸는 것은 불가능하지만 true에서 false로 바꾸는 것은 가능함.
- 데이터 프로퍼티가 변경 불가이고 읽기 전용이면 값을 바꿀 수 없고, 읽기 전용이더라도 변경 가능이면 프로퍼티의 값을 바꿀 수 있음.

### 14.2 객체 확장성

- 확장 가능 속성은 객체에 새로운 프로퍼티를 추가할 수 있는지 결정함.
- Object.isExtensible()로 객체가 확장 가능한지 확인할 수 있음.
- Object.preventEtensions()로 객체를 확장 불가로 만들 수 있음.
- Object.seal()은 객체를 확장 불가로 만드는 동시에 자체 프로퍼티를 모두 변경 불가로 바꿈.
- Object.freeze()는 객체를 확장 불가, 프로퍼티를 변경 불가로 바꾸는 동시에 객체의 자체 데이터 프로퍼티는 모두 읽기 전용으로 바꿈.
  - 객체가 동결됐는지는 Object.isFrozen()으로 판단
